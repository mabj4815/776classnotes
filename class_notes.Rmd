---
title: "Class_Notes"
author: "MATEO BANDALA-JACQUES"
date: "2024-08-29"
output: html_document
---

```{r setup, include=FALSE}
library(reprex)
library(here)
library(tidyverse)

```

## Class notes for 2024-08-29

```{r cars}



print("hello world")


# reprex() will create a reproducible example of whatever is copied to the clipboard



here()
```


## Class notes for 2024-09-05

```{r}

#Let's create a tibble :) 


chicago <- readRDS(here("data", "chicago.rds"))
chicago <- as.tibble(chicago)

as.tibble(chicago) %>%
  print(n=30, width=Inf)

chicago$year <- lubridate::year(chicago$date)

chicago <- chicago %>%
  mutate(
    season = case_when(
      month(date) %in% c(12, 1, 2) ~ "Winter",
      month(date) %in% c(3, 4, 5) ~ "Spring",
      month(date) %in% c(6, 7, 8) ~ "Summer",
      month(date) %in% c(9, 10, 11) ~ "Fall"
    )
  )

chicago %>%
  ggplot(aes(x=date, y=tmpd, color=as.factor(season))) +
  geom_point() +
  labs(x="Date", y="Temperature, F", color="Season") +
  theme_minimal()

 glimpse(chicago)


tibble(
  a=1:5,
  b=6:10,
  c=1L
)

#Non-selecting some columns
chicago %>%
  select(-(city:dptp))


#And the equivalent using base R
i <- match("city", names(chicago))
j <- match("dptp", names(chicago))
head(chicago[, -(i:j)])




#Transmute drops all non-mutate variables


chicago %>%
  transmute(temp_c = (tmpd - 32) * 5 / 9)

chicago <- chicago %>%
  mutate(temp_c = (tmpd - 32) * 5 / 9)

chicago %>%
  group_by(year) %>%
  summarise(pm25 = mean(pm25tmean2, na.rm=TRUE),
            o3 = mean(o3tmean2, na.rm = TRUE),
            celsius = mean(temp_c, na.rm=TRUE))


# slice_sample shows a random subster of rows
set.seed(8963119)

chicago %>%
  slice_sample(n=5)
  


relig_income


relig_income %>%
  pivot_longer(-religion, names_to = "income", values_to = "response")






```

## Class notes for 2024-09-10

```{r notes 2024-09-10}


outcomes <- tibble(
  id = rep(c("a", "b", "c"), each=3),
  visit = rep(0:2,3),
  outcome = rnorm(3*3,3)
)


outcomes


subjects <- tibble(
  id = c("a", "b", "c"),
  house = c("detached", "rowhouse", "rowhouse")
)


subjects


left_join(outcomes, subjects, by="id")
 

full_join(outcomes, subjects, by="id")

inner_join(outcomes, subjects, by="id")


 
subjects <- tibble(
    id = c("b", "c"),
    visit = c(1, 0),
    house = c("rowhouse", "rowhouse"),
)

subjects



left_join(outcomes, subjects, by=c("id", "visit"))
 full_join(outcomes, subjects,  by=c("id", "visit"))
inner_join(outcomes, subjects,  by=c("id", "visit"))




semi_join(outcomes, subjects,  by=c("id", "visit"))
anti_join(outcomes, subjects,  by=c("id", "visit"))


```


``` {r ggplot stuff}

here()


maacs <- read_csv(here("data", "bmi_pm25_no2_sim.csv"),
    col_types = "nnci"
)

maacs

maacs %>%
  ggplot(aes(x=logpm25, y=NocturnalSympt)) +
  geom_point() +
  geom_smooth(method = "loess")



```

# *This is an example of addition of text*

## **This is an example of addition of text**

# ***This is an example of addition of text***


